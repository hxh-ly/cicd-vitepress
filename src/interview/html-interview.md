# html

## html5 的新特性

| 标签    | 含义与使用场景                                                             |
| ------- | -------------------------------------------------------------------------- |
| header  | 页面或者区域头部，通常包括标题，logo，导航栏                               |
| footer  | 页面或者区域的底部，通常包括版权、联系方式、相关链接                       |
| nav     | 导航栏区域，用于包裹住要的导航链接（主导航、侧边栏导航—）                  |
| article | 独立完整的“文章类”内容（博客、新闻、评论）可单独存在并被理解               |
| section | 页面中的“区块”（用于对内容分组），通常包含一个标题（h1-h6）强调“主题性”    |
| aside   | 侧边栏或“辅助内容”(如文章的相关推荐、作者信息、广告)，与主内容相关但非必需 |

媒体标签

| 标签   | 含义与使用场景                                                                                                                                                                                             |
| ------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| video  | src/loop/autoplay/poster                                                                                                                                                                                   |
| audio  | 嵌入音频，核心属性与<video>类似（无 poster），用于播放音乐、语音等                                                                                                                                         |
| source | 为<video>/<audio>提供 “多格式源”（浏览器会自动选择支持的格式），例：html<br><video controls><br> <source src="video.mp4" type="video/mp4"><br> <source src="video.webm" type="video/webm"><br></video><br> |

其他常用标签

| 标签                                    | 含义与使用场景                                                                    |
| --------------------------------------- | --------------------------------------------------------------------------------- |
| canvas                                  | 绘图画布（2D/3D），需通过 JS 操作（如绘制图形、动画、游戏），本身无内容，依赖脚本 |
| svg                                     | 矢量图形标签（可直接嵌入 HTML），用于绘制图标、图表等（放大不失真）               |
| details                                 | 可折叠 / 展开的 “详情区域”，默认折叠，配合<summary>作为标题：                     |
| mark                                    | 高亮显示文本（如搜索结果中的关键词），视觉上默认黄色背景                          |
| time                                    | 表示时间 / 日期，datetime 属性存储机器可读格式（利于 SEO）：                      |
| <time datetime="2025-07-24">今天</time> |

## 为什么用语义化标签

1. 代码可读性、SEO 友好（搜索引擎更易理解内容结构），便于屏幕阅读器（无障碍访问），减少冗余 class 命名

### 服务端渲染

## history，vue 路由的 hash 模式和 history 有什么区别？动态路由？按需加载？鉴权？

history 是 h5 提供的历史记录管理 api，允许 javascript 操作浏览器的会话历史，实现不刷新页面的情况下修改 URL，添加/替换历史记录功能。
hash 是页面的锚点

| 区别               | hash             | history                                     |
| ------------------ | ---------------- | ------------------------------------------- |
| URL 格式           | #                | /                                           |
| 是否需要服务端支持 | 不需要           | 需要（访问不存在页面，会报 404）            |
| 底层原理           | 监听 hash change | 基于 h5 的 pushState                        |
| 兼容性             | 全部兼容         | 依赖 h5 ie>10+                              |
| SEO 友好性         | 较差             | 较好（URL 更规范）                          |
| api                | xx               | -pushState -replaceState -go -back -forward |

## webworker 和 wesocket

### webwworker

是 H5 提供的一种多线程解决方案，主线程创建后台线程，在不阻塞主线程的情况下执行耗时任务（复杂计算、大数据处理）。
特点：1.线程隔离；与主线程运行在不同的上下文（self），不能直接操作 dom 和主线程的全局变量。2.通讯机制，`worker.poseMessage() worker.onmessage` 注意：数据是通过负责传递，而非共享。3.限制不能访问 dom、执行 alert、遵循同源策略（协议、域名、端口）

### ServiceWorker

运行在浏览器后台的独立线程，与网页无关。本质是个代理服务器。主要用于实现 PWA。离线缓存、消息推送、后台同步等功能。是 PWA 的核心技术之一。
特点：1.生命周期独立。与网页无关，关了也能运行。2.离线缓存：拦截网络请求，优先读取缓存策略。3.通讯机制`postMessage`。4.安全机制：必须运行在 https 环境，遵循同源策略。

### wesocket 是一种全双工通信协议，允许客户端与服务器之前简历持久连接，实现双方实时双工通信。打破 Http 的一问一答，适用需要实时数据交互的场景（IM，实时通知、在线协作工具）

特点：1.持久连接。无需重复建立连接。2.全双工通信，双方实时传输。3.低开销，握手协议基于 http 协议，后续通信不携带冗余头部消息。4.跨域支持.`acess-control-allow-origin`;5.二进制传输。不仅传输文本（UTF-8)，还能传输二进制图片、视频。

### 工作流程

握手阶段：client 请求头带上`Upgrade:wesocket` `Connection:Upgrade` 表示升级为 wb 协议。service 收到后回复 `101 switch protocol`响应，握手成功。
通讯阶段：双方通过 帧格式传输数据。【操作码（文本/二进制）】【数据长度】
关闭阶段：发送关闭帧，对方确认后关闭。

### 与 Http 的区别

| 对比维度 | http                 | websocket                |
| -------- | -------------------- | ------------------------ |
| 连接方式 | 短连接               | 长连接                   |
| 方向     | 单                   | 双                       |
| 头部开销 | 每次请求携带完整头部 | 握手后无冗余头部，开销低 |
| 场景     | 网页请求             | 聊天、实时传输           |
| 协议表示 | https://             | wss://                   |

### 应用

```js
// client
const ws = new WebSocket("ws://localhost:8080");
ws.onopen = () => {};
ws.onmessage = (event) => {};
ws.onClose = () => {};
ws.onerror = (error) => {};
// 关闭连接
function closeWebSocket() {
  if (socket.readyState === WebSocket.OPEN) {
    // 可选参数：code（状态码）和 reason（原因描述）
    socket.close(1000, "正常关闭"); // 1000 表示正常关闭的状态码
  }
}

// node server
const WebSocket = require("ws");
const wss = new WebSocket.Server({ port: 8080 });
wss.on("connection", () => {
  wss.on("message", () => {});
  // 服务器主动关闭连接
  function closeClientConnection() {
    if (ws.readyState === WebSocket.OPEN) {
      ws.close(1000, "服务器主动关闭");
    }
  }
  wss.on("close", () => {});
});
```

## 拖拽 API。

（被拖拽方）

| name      | 时机       | 场景             |
| --------- | ---------- | ---------------- |
| dragstart | 刚被拖拽时 | 记录拖拽元素     |
| drag      | 持续       | 实时更新拖拽状态 |
| dragend   | 结束时     | 清理样式         |

(接受拖拽)
| name|时机 |场景 |
|---|--- |---|
| dragenter|进入目标元素 | 目标高亮 |
| dragover|在目标内持续移动 |必须阻止默认行为（允许放置）|
| dragleave|离开目标时 |取消目标可放置状态|
|drop|拖拽在目标元素被释放时触发|执行放置逻辑|

默认非拖拽 ，需设置`draggable = 'true'`

## Canvas

## 本地存储的区别。

| 区别     | localStorage       | sessionStorage    | indexedDB                          | cookie                    |
| -------- | ------------------ | ----------------- | ---------------------------------- | ------------------------- |
| 持久性   | 一直存在           | 页签关闭消失      | 永久                               | 设置过期时间              |
| 存储大小 | 5m                 | 5m                | 看磁盘空间                         | 4kb                       |
| 作用域   | 同源下所有页面共享 | 当前页签/窗口共享 | 同源下所有页面共享                 |                           |
| 数据类型 | string             | string            | 复杂对象二进制                     |                           |
| 操作方式 | 同步               | 同步              | 异步                               |                           |
| 适用场景 | 用户偏好           | 临时存储会话数据  | 存储大量结构化数据（离线应用缓存） | 用于身份认证（sessionID） |

## 主题切换
1.全局状态管理搭配系统设置，2.改变状态【dark/light】,3.改变`document.documentElement.classList.add('dark')`,4.从而影响css变量。

## rem适配移动端
